{"ast":null,"code":"import _objectSpread from\"/Users/shahzodashahzoda/Desktop/IT/IT ACADEMY/React-Lessons/lesso/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/shahzodashahzoda/Desktop/IT/IT ACADEMY/React-Lessons/lesso/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useRef}from'react';import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faPlay}from\"@fortawesome/free-solid-svg-icons\";import{faAngleRight}from\"@fortawesome/free-solid-svg-icons\";import{faAngleLeft}from\"@fortawesome/free-solid-svg-icons\";import{faPause}from\"@fortawesome/free-solid-svg-icons\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Player=function Player(_ref){var currentSong=_ref.currentSong,isPlaying=_ref.isPlaying,setIsPlaying=_ref.setIsPlaying,arraySong=_ref.arraySong,setCurrentSong=_ref.setCurrentSong;var audio=useRef(null);var _useState=useState({current:0,duration:0}),_useState2=_slicedToArray(_useState,2),time=_useState2[0],setTime=_useState2[1];function skipSong(skip){var indexsong=arraySong.findIndex(function(i){return i.id===currentSong.id;});if(skip=='next'){setCurrentSong(arraySong[(indexsong+1)%arraySong.length]);}else if(skip=='prev'){setCurrentSong(arraySong[(indexsong-1)%arraySong.length]);}}function handlerClick(){setIsPlaying(!isPlaying);if(isPlaying===true){audio.current.pause();}else{audio.current.play();}}function handlerTime(e){var currentTime=e.target.currentTime;var durationTime=e.target.duration;setTime(_objectSpread(_objectSpread({},time),{},{current:currentTime,duration:durationTime}));}function dragHandler(e){console.log(e.target.value);audio.current.currentTime=e.target.value;}function secondsToTime(e){var h=Math.floor(e/3600).toString().padStart(2,'0'),m=Math.floor(e%3600/60).toString().padStart(2,'0'),s=Math.floor(e%60).toString().padStart(2,'0');return m+':'+s;}var currentDur=Math.ceil(time.current);var durationDur=Math.ceil(time.duration);return/*#__PURE__*/_jsxs(\"div\",{className:\"playerContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"playerFoot\",children:[/*#__PURE__*/_jsx(\"p\",{children:secondsToTime(currentDur)}),/*#__PURE__*/_jsx(\"input\",{onChange:dragHandler,className:\"range\",type:\"range\",value:time.current,min:0,max:time.duration}),/*#__PURE__*/_jsx(\"p\",{children:secondsToTime(durationDur)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"playerArrows\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{onClick:function onClick(){return skipSong('prev');},className:\"icon1 icon\",size:\"2x\",icon:faAngleLeft}),/*#__PURE__*/_jsx(FontAwesomeIcon,{onClick:handlerClick,className:\"icon2 icon\",size:\"3x\",icon:isPlaying?faPause:faPlay}),/*#__PURE__*/_jsx(FontAwesomeIcon,{onClick:function onClick(){return skipSong('next');},className:\"icon3 icon\",size:\"2x\",icon:faAngleRight})]}),/*#__PURE__*/_jsx(\"audio\",{onLoadedData:handlerTime,onTimeUpdate:handlerTime,ref:audio,src:currentSong.audio})]});};export default Player;","map":{"version":3,"sources":["/Users/shahzodashahzoda/Desktop/IT/IT ACADEMY/React-Lessons/lesso/src/components/Player.js"],"names":["React","useState","useRef","FontAwesomeIcon","faPlay","faAngleRight","faAngleLeft","faPause","Player","currentSong","isPlaying","setIsPlaying","arraySong","setCurrentSong","audio","current","duration","time","setTime","skipSong","skip","indexsong","findIndex","i","id","length","handlerClick","pause","play","handlerTime","e","currentTime","target","durationTime","dragHandler","console","log","value","secondsToTime","h","Math","floor","toString","padStart","m","s","currentDur","ceil","durationDur"],"mappings":"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","sourcesContent":["import React,{useState, useRef} from 'react'\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {faPlay} from \"@fortawesome/free-solid-svg-icons\";\nimport {faAngleRight} from \"@fortawesome/free-solid-svg-icons\";\nimport {faAngleLeft} from \"@fortawesome/free-solid-svg-icons\";\nimport {faPause} from \"@fortawesome/free-solid-svg-icons\";\n\n\nconst Player = ({currentSong, isPlaying, setIsPlaying,arraySong , setCurrentSong}) => {\n    const audio = useRef(null)\n    const [time, setTime] = useState({\n        current: 0,\n        duration: 0\n    })\n    function skipSong(skip) {\n        let indexsong = arraySong.findIndex( i => i.id === currentSong.id )\n        if(skip == 'next'){\n            setCurrentSong(arraySong[(indexsong + 1) % arraySong.length])\n        }else if(skip == 'prev'){\n            setCurrentSong(arraySong[(indexsong - 1) % arraySong.length]);\n        }\n    }\n\n    function handlerClick(){\n        setIsPlaying(!isPlaying)\n        if(isPlaying === true){\n            audio.current.pause()\n        }else{\n            audio.current.play()\n        }\n    }\n    function handlerTime(e){\n        let currentTime = e.target.currentTime\n        let durationTime = e.target.duration\n        setTime({...time,current: currentTime, duration: durationTime})\n    }\n    function dragHandler(e){\n        console.log(e.target.value)\n        audio.current.currentTime = e.target.value\n    }\n    function secondsToTime(e){\n        var h = Math.floor(e / 3600).toString().padStart(2,'0'),\n            m = Math.floor(e % 3600 / 60).toString().padStart(2,'0'),\n            s = Math.floor(e % 60).toString().padStart(2,'0');\n\n        return  m + ':' + s;\n    }\n    let currentDur = Math.ceil(time.current)\n    let durationDur = Math.ceil(time.duration)\n    return(\n        <div className='playerContainer'>\n            <div className='playerFoot'>\n                <p>{secondsToTime(currentDur)}</p>\n                <input onChange={dragHandler}\n                    className='range'\n                       type=\"range\"\n                       value={time.current}\n                min={0}\n                max={time.duration}/>\n                <p>{secondsToTime(durationDur)}</p>\n            </div>\n            <div className='playerArrows'>\n                <FontAwesomeIcon onClick={()=> skipSong('prev')} className='icon1 icon' size='2x' icon={faAngleLeft} />\n                <FontAwesomeIcon onClick = {handlerClick} className='icon2 icon' size='3x' icon={isPlaying ? faPause : faPlay}  />\n                <FontAwesomeIcon onClick={()=> skipSong('next')} className='icon3 icon' size='2x' icon={faAngleRight} />\n            </div>\n            <audio onLoadedData={handlerTime} onTimeUpdate={handlerTime} ref={audio} src={currentSong.audio}></audio>\n\n        </div>\n    )\n}\n\nexport default Player\n"]},"metadata":{},"sourceType":"module"}